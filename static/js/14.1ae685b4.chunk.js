(this["webpackJsonpadmin-panel-demo"]=this["webpackJsonpadmin-panel-demo"]||[]).push([[14],{1027:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));var n,i,s,o=a(53),l=a(54),r=a(55),c=a(56),p=a(0),d=a(25),u=a(375),m=a(92),h=a(80),f=(a(959),a(83)),j=a(221),b=a(347),g=a.n(b),x=(a(348),a(116)),O=a(2),y=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){if("fullName"===t)n.setState({fullName:e.target.value});else if("email"===t)n.setState({salary:e.target.value});else if("file"===t){var a=e.target.files,i=new FileReader;i.readAsDataURL(a[0]),i.onload=function(e){n.setState({profileImg:e.target.result})}}else"contact"===t&&n.setState({contact:e.target.value})},n.handleClick=function(e){e.preventDefault(),n.props.updateProfile(),alert("Profile Updated Successfully")},n.handleFile=function(e){console.log("show popup......",e),n.setState({profileImg:e}),document.getElementById("popUpModal").style.display="block"},n.onLoad=function(e){n.setState({image:e})},n.handleCrop=function(e){n.setState({crop:e})},n.makeCrop=function(){var e=document.createElement("canvas"),t=n.state.image.naturalWidth/n.state.image.width,a=n.state.image.naturalHeight/n.state.image.height;e.width=n.state.crop.width,e.height=n.state.crop.height,e.getContext("2d").drawImage(n.state.image,n.state.crop.x*t,n.state.crop.y*a,n.state.crop.width*t,n.state.crop.height*a,0,0,n.state.crop.width,n.state.crop.height),0===n.state.crop.x?n.setState({profileImg:n.state.profileImg}):n.setState({profileImg:e.toDataURL("image/jpeg")}),document.getElementById("popUpModal").style.display="none"},n.state={fullName:"",email:"",userName:"",password:"",profileImg:null,image:null,crop:{aspect:16/9}},n}return Object(l.a)(a,[{key:"componentWillMount",value:function(){void 0===this.props.cookies.get("Name")&&this.props.history.push("/")}},{key:"componentDidMount",value:function(){this.setState({userName:this.props.admin.userName,fullName:this.props.admin.fullName,email:this.props.admin.email,profileImg:this.props.admin.profileImg})}},{key:"componentDidUpdate",value:function(){n=this.state.fullName,i=this.state.email,s=this.state.profileImg}},{key:"render",value:function(){var e=this;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(x.a,{}),Object(O.jsxs)("div",{className:"profile-div",children:[Object(O.jsxs)("form",{className:"profile-form",children:[Object(O.jsx)("h2",{children:"Admin Profile"}),Object(O.jsxs)("div",{className:"form-items",children:[Object(O.jsx)("label",{children:"User Name"})," ",Object(O.jsx)("br",{}),Object(O.jsx)(h.a,{inputClass:"inputTag",type:"text",inputText:this.state.userName,disabled:!0})]}),Object(O.jsxs)("div",{className:"form-items",children:[Object(O.jsx)("label",{children:"Full Name"})," ",Object(O.jsx)("br",{}),Object(O.jsx)(h.a,{inputClass:"inputTag",type:"text",inputText:this.state.fullName,placeHolder:"Enter full name",onChange:function(t){return e.handleChange(t,"fullName")}})]}),Object(O.jsxs)("div",{className:"form-items",children:[Object(O.jsx)("label",{children:"Email"})," ",Object(O.jsx)("br",{}),Object(O.jsx)(h.a,{inputClass:"inputTag",type:"email",inputText:this.state.email,placeHolder:"Enter email",onChange:function(t){return e.handleChange(t,"email")}})]}),Object(O.jsx)("div",{className:"form-items",children:Object(O.jsx)(j.a,{passFile:this.handleFile,cropImage:this.state.profileImg})}),Object(O.jsx)("div",{className:"profile-button-div",children:Object(O.jsx)(m.a,{btnclass:"profile-action-button",btnName:"Update",onClick:function(t){return e.handleClick(t)}})})]}),Object(O.jsx)("div",{id:"popUpModal",className:"modal",children:Object(O.jsxs)("div",{className:"modal-content",children:[Object(O.jsxs)("div",{className:"modal-header",children:[Object(O.jsx)("p",{children:"Crop Image"}),Object(O.jsx)("span",{className:"close",onClick:function(){return document.getElementById("popUpModal").style.display="none"},children:"\xd7"})]}),Object(O.jsx)("div",{className:"modal-body",children:Object(O.jsx)(g.a,{src:this.state.profileImg,onImageLoaded:this.onLoad,crop:this.state.crop,onChange:this.handleCrop})}),Object(O.jsx)("div",{className:"modal-footer",children:Object(O.jsxs)("div",{className:"footer-btn",children:[Object(O.jsx)(m.a,{btnclass:"footer-crop",btnName:"Crop Image",onClick:this.makeCrop}),Object(O.jsx)(m.a,{btnclass:"footer-cancel",btnName:"Cancel",onClick:function(){return document.getElementById("popUpModal").style.display="none"}})]})})]})})]})]})}}]),a}(p.Component),v=Object(d.b)((function(e){return console.log(e),{admin:e.admin}}),(function(e){return{updateProfile:function(){return e(Object(f.f)(n,i,s))}}}))(Object(u.a)(y))},221:function(e,t,a){"use strict";var n=a(4),i=a(96),s=a(0),o=a(367),l=a(2),r={display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:16},c={display:"inline-flex",borderRadius:2,border:"1px solid #eaeaea",marginBottom:8,marginRight:8,marginLeft:20,width:100,height:100,padding:4,boxSizing:"border-box"},p={display:"flex",minWidth:0,overflow:"hidden"},d={display:"block",width:"100%",height:"100%"};t.a=function(e){var t=Object(s.useState)(""),a=Object(i.a)(t,2),u=(a[0],a[1]),m=Object(o.a)({accept:"image/*",onDrop:function(t){t.map((function(e){return console.log(e)})),t.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})),console.log(t[0].preview),u(t[0].preview),e.passFile(t[0].preview)}}),h=m.getRootProps,f=m.getInputProps,j=Object(l.jsx)("div",{style:c,children:Object(l.jsx)("div",{style:p,children:Object(l.jsx)("img",{src:e.cropImage,style:d,alt:"Preview"})})});return Object(l.jsxs)("section",{className:"container",style:{border:"1px dashed",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(l.jsxs)("div",Object(n.a)(Object(n.a)({},h({className:"dropzone"})),{},{style:{width:"120%",textAlign:"center"},children:[Object(l.jsx)("input",Object(n.a)({},f())),Object(l.jsx)("p",{className:"dropText",children:"Drop File Heres to Upload"})]})),null!==e.cropImage&&Object(l.jsx)("aside",{style:r,children:j})]})}},80:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(53),i=a(54),s=a(55),o=a(56),l=a(0),r=(a(82),a(2)),c=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).state={inputText:""},i}return Object(i.a)(a,[{key:"render",value:function(){return Object(r.jsx)("input",{id:this.props.id,className:this.props.inputClass,type:this.props.type,value:this.props.inputText,placeholder:this.props.placeHolder,onChange:this.props.onChange,onKeyUp:this.props.onKeyUp,disabled:this.props.disabled,onClick:this.props.onClick,name:this.props.name})}}]),a}(l.Component)},82:function(e,t,a){},83:function(e,t,a){"use strict";a.d(t,"e",(function(){return i})),a.d(t,"f",(function(){return s})),a.d(t,"a",(function(){return o})),a.d(t,"g",(function(){return l})),a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return p}));var n=a(8);function i(e,t){return{type:n.f,payload:{userName:e,password:t}}}function s(e,t,a){return{type:n.g,payload:{fullName:e,email:t,profileImg:a}}}function o(e,t,a,i,s){return console.log(s),{type:n.a,payload:{fullName:e,salary:t,email:a,contact:i,avatar:s}}}function l(e,t,a,i,s,o){return{type:n.h,payload:{updateId:e,fullName:t,salary:a,email:i,contact:s,avatar:o}}}function r(e){return{type:n.c,payload:e}}function c(e){return{type:n.d,payload:e}}function p(e){return{type:n.b,payload:e}}},959:function(e,t,a){}}]);
//# sourceMappingURL=14.1ae685b4.chunk.js.map